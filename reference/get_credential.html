<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate a random password — get_credential • dipsaus</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a random password — get_credential"><meta name="description" content="Please note that this function is not meant to be used in
production. It is not meant to be used for highly secured
cryptographic purposes."><meta property="og:description" content="Please note that this function is not meant to be used in
production. It is not meant to be used for highly secured
cryptographic purposes."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dipsaus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/r_expr_addons.html">R Expression Add-on</a></li>
    <li><a class="dropdown-item" href="../articles/shiny_customized_widgets.html">Shiny Customized Widgets</a></li>
    <li><a class="dropdown-item" href="../articles/utility_functions.html">Utility Functions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dipterix/dipsaus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate a random password</h1>
      <small class="dont-index">Source: <a href="https://github.com/dipterix/dipsaus/blob/master/R/credentials.R" class="external-link"><code>R/credentials.R</code></a></small>
      <div class="d-none name"><code>get_credential.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Please note that this function is not meant to be used in
production. It is not meant to be used for highly secured
cryptographic purposes.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_credential</span><span class="op">(</span></span>
<span>  <span class="va">master_password</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"get_or_create"</span>, <span class="st">"replace"</span>, <span class="st">"query"</span><span class="op">)</span>,</span>
<span>  service <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  special_chr <span class="op">=</span> <span class="st">"~`! @#$%^&amp;*()_-+={[}]|:;'&lt;,&gt;.?/"</span>,</span>
<span>  tokenfile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-master-password">master_password<a class="anchor" aria-label="anchor" href="#arg-master-password"></a></dt>
<dd><p>a master password that only you know, should have
at least 8 characters</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>whether to query token map, or to create the password,
choices are <code>'get_or_create'</code> (default), <code>'replace'</code>,
<code>'query'</code>; see 'Details'</p></dd>


<dt id="arg-service">service<a class="anchor" aria-label="anchor" href="#arg-service"></a></dt>
<dd><p>service name, must only contains letters, digits, equal sign,
underscore, comma, dot, dash</p></dd>


<dt id="arg-special-chr">special_chr<a class="anchor" aria-label="anchor" href="#arg-special-chr"></a></dt>
<dd><p>special characters allowed in the password</p></dd>


<dt id="arg-tokenfile">tokenfile<a class="anchor" aria-label="anchor" href="#arg-tokenfile"></a></dt>
<dd><p>a file containing all the tokens. Warning: if you lose the
token book, it is hard (not impossible, but impractical) to restore
the passwords</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>whether to print out service names; default is false</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If method is <code>'query'</code>, returns token map; otherwise returns
the password itself</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Please note that this function is not meant to be used in
production or anything that requires high security level. This is most
likely for my personal use since I am tired of
storing the passwords on the cloud or having to buy the services.</p>
<p>The encryption adopts <code>'sha256'</code> algorithm provided by
<code><a href="https://rdrr.io/pkg/digest/man/digest.html" class="external-link">digest</a></code> function. To restore a password,
you will need twp components: <code>master_password</code>, a token book (
<code>tokenfile</code>). If any of them is missing, then the password is lost.
Please store the token book properly (for example, in 'Dropbox' vault).</p>
<p>The token book could be shared. Anyone who do not have master password will
be unlikely to restore the service password. Do not share the master password
with anyone other than yourself.</p>
<p>By default, <code>method='get_or_create'</code> will try to retrieve existing
tokens to generate password. If the token is missing, then a new token
will be generated. The <code>method='replace'</code> will ignore existing tokens
and directly create a new one.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/digest/man/digest.html" class="external-link">digest</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tokenfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ---------- Create a password and store the tokens to token book ------</span></span></span>
<span class="r-in"><span><span class="va">pass1</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span></span>
<span class="r-in"><span>  master_password <span class="op">=</span> <span class="st">"my password"</span>,</span></span>
<span class="r-in"><span>  service <span class="op">=</span> <span class="st">"google.com:my_username"</span>,</span></span>
<span class="r-in"><span>  special_chr <span class="op">=</span> <span class="st">"@#$%^&amp;*"</span>,</span></span>
<span class="r-in"><span>  tokenfile <span class="op">=</span> <span class="va">tokenfile</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pass1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2jceh^q1iu3o^u@f2xqgbknqprhltqjk"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ---------- Query existing tokens ------</span></span></span>
<span class="r-in"><span><span class="va">token_params</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"query"</span>,</span></span>
<span class="r-in"><span>  tokenfile <span class="op">=</span> <span class="va">tokenfile</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> google.com:my_username</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">token_params</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`$service</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "google.com:my_username"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`$token</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "up8XlXL9Qp6Kj4d3evPg5bEhgHAmJaOUHb3hW6YXVIxVakm54r"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`$seed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2051058623          4          3         15         10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`$specials</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "@#$%^&amp;*"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ---------- retrieve stored password ----------</span></span></span>
<span class="r-in"><span><span class="va">pass2</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span></span>
<span class="r-in"><span>  master_password <span class="op">=</span> <span class="st">"my password"</span>,</span></span>
<span class="r-in"><span>  service <span class="op">=</span> <span class="st">"google.com"</span>,</span></span>
<span class="r-in"><span>  tokenfile <span class="op">=</span> <span class="va">tokenfile</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">pass1</span>, <span class="va">pass2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using wrong master password</span></span></span>
<span class="r-in"><span><span class="va">pass3</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span></span>
<span class="r-in"><span>  master_password <span class="op">=</span> <span class="st">"wrong password"</span>,</span></span>
<span class="r-in"><span>  service <span class="op">=</span> <span class="st">"google.com"</span>,</span></span>
<span class="r-in"><span>  tokenfile <span class="op">=</span> <span class="va">tokenfile</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">pass1</span>, <span class="va">pass3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ---------- Replace token ----------</span></span></span>
<span class="r-in"><span><span class="co"># Existing token will be replaced with a new token</span></span></span>
<span class="r-in"><span><span class="va">pass4</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span></span>
<span class="r-in"><span>  master_password <span class="op">=</span> <span class="st">"my password"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"replace"</span>,</span></span>
<span class="r-in"><span>  service <span class="op">=</span> <span class="st">"google.com"</span>,</span></span>
<span class="r-in"><span>  special_chr <span class="op">=</span> <span class="st">"@#$%^&amp;*"</span>,</span></span>
<span class="r-in"><span>  tokenfile <span class="op">=</span> <span class="va">tokenfile</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pass4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "egq$eildpb0$2ydom^mc6x7kchxut^b2"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">pass1</span>, <span class="va">pass4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

