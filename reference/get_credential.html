<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate a random password — get_credential • dipsaus</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a random password — get_credential"><meta property="og:description" content="Please note that this function is not meant to be used in
production. It is not meant to be used for highly secured
cryptographic purposes."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dipsaus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/r_expr_addons.html">R Expression Add-on</a>
    </li>
    <li>
      <a href="../articles/shiny_customized_widgets.html">Shiny Customized Widgets</a>
    </li>
    <li>
      <a href="../articles/utility_functions.html">Utility Functions</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dipterix/dipsaus/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate a random password</h1>
    <small class="dont-index">Source: <a href="https://github.com/dipterix/dipsaus/blob/HEAD/R/credentials.R" class="external-link"><code>R/credentials.R</code></a></small>
    <div class="hidden name"><code>get_credential.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Please note that this function is not meant to be used in
production. It is not meant to be used for highly secured
cryptographic purposes.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_credential</span><span class="op">(</span>
  <span class="va">master_password</span>,
  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"get_or_create"</span>, <span class="st">"replace"</span>, <span class="st">"query"</span><span class="op">)</span>,
  service <span class="op">=</span> <span class="cn">NULL</span>,
  special_chr <span class="op">=</span> <span class="st">"~`! @#$%^&amp;*()_-+={[}]|:;'&lt;,&gt;.?/"</span>,
  tokenfile <span class="op">=</span> <span class="cn">NULL</span>,
  verbose <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>master_password</dt>
<dd><p>a master password that only you know, should have
at least 8 characters</p></dd>
<dt>method</dt>
<dd><p>whether to query token map, or to create the password,
choices are <code>'get_or_create'</code> (default), <code>'replace'</code>,
<code>'query'</code>; see 'Details'</p></dd>
<dt>service</dt>
<dd><p>service name, must only contains letters, digits, equal sign,
underscore, comma, dot, dash</p></dd>
<dt>special_chr</dt>
<dd><p>special characters allowed in the password</p></dd>
<dt>tokenfile</dt>
<dd><p>a file containing all the tokens. Warning: if you lose the
token book, it is hard (not impossible, but impractical) to restore
the passwords</p></dd>
<dt>verbose</dt>
<dd><p>whether to print out service names; default is false</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>If method is <code>'query'</code>, returns token map; otherwise returns
the password itself</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Please note that this function is not meant to be used in
production or anything that requires high security level. This is most
likely for my personal use since I am tired of
storing the passwords on the cloud or having to buy the services.</p>
<p>The encryption adopts <code>'sha256'</code> algorithm provided by
<code><a href="https://rdrr.io/pkg/digest/man/digest.html" class="external-link">digest</a></code> function. To restore a password,
you will need twp components: <code>master_password</code>, a token book (
<code>tokenfile</code>). If any of them is missing, then the password is lost.
Please store the token book properly (for example, in 'Dropbox' vault).</p>
<p>The token book could be shared. Anyone who do not have master password will
be unlikely to restore the service password. Do not share the master password
with anyone other than yourself.</p>
<p>By default, <code>method='get_or_create'</code> will try to retrieve existing
tokens to generate password. If the token is missing, then a new token
will be generated. The <code>method='replace'</code> will ignore existing tokens
and directly create a new one.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/digest/man/digest.html" class="external-link">digest</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="va">tokenfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># ---------- Create a password and store the tokens to token book ------</span></span>
<span class="r-in"><span class="va">pass1</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span>
<span class="r-in">  master_password <span class="op">=</span> <span class="st">"my password"</span>,</span>
<span class="r-in">  service <span class="op">=</span> <span class="st">"google.com:my_username"</span>,</span>
<span class="r-in">  special_chr <span class="op">=</span> <span class="st">"@#$%^&amp;*"</span>,</span>
<span class="r-in">  tokenfile <span class="op">=</span> <span class="va">tokenfile</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pass1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2jceh^q1iu3o^u@f2xqgbknqprhltqjk"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># ---------- Query existing tokens ------</span></span>
<span class="r-in"><span class="va">token_params</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span>
<span class="r-in">  method <span class="op">=</span> <span class="st">"query"</span>,</span>
<span class="r-in">  tokenfile <span class="op">=</span> <span class="va">tokenfile</span>,</span>
<span class="r-in">  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> google.com:my_username</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">token_params</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`$service</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "google.com:my_username"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`$token</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "up8XlXL9Qp6Kj4d3evPg5bEhgHAmJaOUHb3hW6YXVIxVakm54r"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`$seed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2051058623          4          3         15         10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`google.com:my_username`$specials</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "@#$%^&amp;*"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># ---------- retrieve stored password ----------</span></span>
<span class="r-in"><span class="va">pass2</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span>
<span class="r-in">  master_password <span class="op">=</span> <span class="st">"my password"</span>,</span>
<span class="r-in">  service <span class="op">=</span> <span class="st">"google.com"</span>,</span>
<span class="r-in">  tokenfile <span class="op">=</span> <span class="va">tokenfile</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">pass1</span>, <span class="va">pass2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Using wrong master password</span></span>
<span class="r-in"><span class="va">pass3</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span>
<span class="r-in">  master_password <span class="op">=</span> <span class="st">"wrong password"</span>,</span>
<span class="r-in">  service <span class="op">=</span> <span class="st">"google.com"</span>,</span>
<span class="r-in">  tokenfile <span class="op">=</span> <span class="va">tokenfile</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">pass1</span>, <span class="va">pass3</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># ---------- Replace token ----------</span></span>
<span class="r-in"><span class="co"># Existing token will be replaced with a new token</span></span>
<span class="r-in"><span class="va">pass4</span> <span class="op">&lt;-</span> <span class="fu">get_credential</span><span class="op">(</span></span>
<span class="r-in">  master_password <span class="op">=</span> <span class="st">"my password"</span>,</span>
<span class="r-in">  method <span class="op">=</span> <span class="st">"replace"</span>,</span>
<span class="r-in">  service <span class="op">=</span> <span class="st">"google.com"</span>,</span>
<span class="r-in">  special_chr <span class="op">=</span> <span class="st">"@#$%^&amp;*"</span>,</span>
<span class="r-in">  tokenfile <span class="op">=</span> <span class="va">tokenfile</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pass4</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "egq$eildpb0$2ydom^mc6x7kchxut^b2"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">pass1</span>, <span class="va">pass4</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

