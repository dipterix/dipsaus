<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Register customized R code to 'RStudio' shortcuts — dipsaus-rstudio-shortcuts • dipsaus</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Register customized R code to 'RStudio' shortcuts — dipsaus-rstudio-shortcuts"><meta property="og:description" content="'RStudio' keyboard shortcuts is handy, however, it is non-trivial
to set shortcuts that run customized code. The proposing functions
allow 10 customized R expressions to be registered. The first five
(1 to 5) are interactive shortcuts, the rest five
(6 to 10) are non-interactive."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dipsaus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.5.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/r_expr_addons.html">R Expression Add-on</a>
    </li>
    <li>
      <a href="../articles/shiny_customized_widgets.html">Shiny Customized Widgets</a>
    </li>
    <li>
      <a href="../articles/utility_functions.html">Utility Functions</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dipterix/dipsaus/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Register customized R code to 'RStudio' shortcuts</h1>
    <small class="dont-index">Source: <a href="https://github.com/dipterix/dipsaus/blob/HEAD/R/shortcuts.R" class="external-link"><code>R/shortcuts.R</code></a></small>
    <div class="hidden name"><code>dipsaus-rstudio-shortcuts.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>'RStudio' keyboard shortcuts is handy, however, it is non-trivial
to set shortcuts that run customized code. The proposing functions
allow 10 customized R expressions to be registered. The first five
(1 to 5) are interactive shortcuts, the rest five
(6 to 10) are non-interactive.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rs_add_insertion_shortcut</span><span class="op">(</span><span class="va">which</span>, <span class="va">txt</span>, force <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rs_add_shortcut</span><span class="op">(</span><span class="va">which</span>, <span class="va">expr</span>, force <span class="op">=</span> <span class="cn">FALSE</span>, quoted <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rs_remove_shortcut</span><span class="op">(</span><span class="va">which</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rs_show_shortcut</span><span class="op">(</span><span class="va">which</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rs_quick_debug</span><span class="op">(</span>env <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">globalenv</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>which</dt>
<dd><p>integer from 1 to 10, which keyboard shortcut to edit</p></dd>


<dt>txt</dt>
<dd><p>an insertion/replacement shortcut to add</p></dd>


<dt>force</dt>
<dd><p>whether to remove existing shortcut if the hot-key has been
registered</p></dd>


<dt>expr</dt>
<dd><p>expression to run if shortcut is pressed</p></dd>


<dt>quoted</dt>
<dd><p>whether <code>expr</code> is quoted, default is false</p></dd>


<dt>env</dt>
<dd><p>environment to debug code; default is global environment</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>There are two steps to register an 'RStudio' keyboard shortcut.</p>
<p>1. Please enable the shortcuts by opening
<code>'Tools' &gt; 'Modify Keyboard Shortcuts'</code> in 'RStudio' menu bar;
search and locate add-in items starting with 'Dipsaus'; register hot-keys
of your choices, and then save. It is recommended that these
keys are <code>'Alt' + 1</code> to <code>'Alt' + 0</code>. On Apple, 'Alt' is
equivalent to 'option' key.</p>
<p>2. run <code>rs_add_insertion_shortcut</code> or <code>rs_add_shortcut</code> to
customize the behaviors of each shortcuts; see Examples.</p>
<p>Function <code>rs_quick_debug</code> provides quick way to debug a script or
function without messing up the code. The script only works in 'RStudio'.
When executing the quick-debug function, the cursor context will be
automatically resolved and nearest debugging code blocks will be searched
and executed.
To enable this feature, add a line with <code>"# DIPSAUS: DEBUG START"</code> in
your code, followed by debugging code blocks in comments. The script will
figure it out. Since the 'RStudio' context will be obtained when executing
the function, it is recommended to add this function to your shortcuts.
By default, if the shortcut-1 is unset, this function will be executed.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Need to run in RStudio</span></span></span>
<span class="r-in"><span><span class="co"># Please read the Section 'Details' carefully</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># --------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># I assume the shortcuts are Alt+1,2,...,9,0,</span></span></span>
<span class="r-in"><span><span class="co"># corresponding to shortcuts 1 - 10</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Adds an insertion to Alt+9</span></span></span>
<span class="r-in"><span><span class="fu">rs_add_insertion_shortcut</span><span class="op">(</span><span class="fl">9</span>, <span class="st">" %?&lt;-% "</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># restart RStudio and try `Alt+9`</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Adds an expression to Alt+2</span></span></span>
<span class="r-in"><span><span class="fu">rs_add_shortcut</span><span class="op">(</span><span class="fl">2</span>, <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">expr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"system.time({\n%s\n})\n"</span>,</span></span>
<span class="r-in"><span>                  <span class="fu">rstudioapi</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/rstudioapi/reference/selections.html" class="external-link">selectionGet</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">value</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">expr</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/eval.html" class="external-link">eval</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/parse.html" class="external-link">parse</a></span><span class="op">(</span>text <span class="op">=</span> <span class="va">expr</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Select any valid R code and press Alt+1</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># --------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># run this to set your shortcut (one-time setup)</span></span></span>
<span class="r-in"><span><span class="fu">rs_add_shortcut</span><span class="op">(</span><span class="fl">1</span>, <span class="op">{</span> <span class="fu">dipsaus</span><span class="fu">::</span><span class="fu">rs_quick_debug</span><span class="op">(</span><span class="op">)</span> <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add debug feature: insert the following comment anywhere in your code</span></span></span>
<span class="r-in"><span><span class="co"># You may open a new script in the RStudio</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># DIPSAUS: DEBUG START</span></span></span>
<span class="r-in"><span><span class="co"># message("Debugging...")</span></span></span>
<span class="r-in"><span><span class="co"># a &lt;- 1</span></span></span>
<span class="r-in"><span><span class="co"># print(a)</span></span></span>
<span class="r-in"><span><span class="co"># message("Finished")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Place your cursor here, press the shortcut key</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

