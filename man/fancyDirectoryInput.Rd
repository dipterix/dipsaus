% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/shiny-fancyFileInput.R
\name{fancyDirectoryInput}
\alias{fancyDirectoryInput}
\title{Shiny drag-and-drop directory input}
\usage{
fancyDirectoryInput(
  inputId,
  label,
  width = NULL,
  after_content = "Drag & drop directory, or button",
  size = c("s", "m", "l", "xl"),
  maxSize = NULL,
  ...
)
}
\arguments{
\item{inputId}{the input slot that will be used to access the value}

\item{label}{display label for the control, or NULL for no label.}

\item{width}{the width of the input}

\item{after_content}{tiny content that is to be displayed below the input box}

\item{size}{height of the widget, choices are \code{'s'}, \code{'m'}, \code{'l'}, and \code{'xl'}}

\item{maxSize}{maximum file size per file in bytes (default uses \code{shiny.maxRequestSize} option, typically 5MB)}

\item{...}{additional arguments (currently unused)}
}
\value{
A data frame with components: \code{name} (file name),
\code{size} (file size in bytes), \code{type} (MIME type), \code{datapath}
(temporary file path on server), and \code{relativePath} (full relative path
including subdirectories). The data frame also has an attribute \code{directoryStructure}
containing a nested list representing the directory tree.
}
\description{
Fancy drag and drop directory upload for \code{shiny} apps. This function
allows users to drag and drop entire directories. Note: This feature requires
browser support for the \code{webkitdirectory} attribute (Chrome, Edge, Safari).
Firefox has limited support.
}
\details{
The directory input uses the \code{webkitdirectory} HTML attribute which is
not part of the HTML5 standard but is widely supported. Browser compatibility:
\itemize{
  \item Chrome/Edge: Full support
  \item Safari: Full support
  \item Firefox: Partial support (desktop only, no mobile)
  \item Internet Explorer: Not supported
}

Hidden files (starting with '.') are filtered out by default on the client side.

Files are transferred as base64-encoded data, so they use approximately 33\% more
bandwidth than their actual size. Files exceeding \code{maxSize} will be skipped
with a warning in the browser console.
}
\examples{


library(shiny)
library(dipsaus)

ui <- basicPage(
  fancyDirectoryInput('dir_input', "Please upload a directory")
)

if(interactive()) {
  shinyApp(
    ui,
    server = function(input, output, session){
      observeEvent(input$dir_input, {
        files <- input$dir_input
        if(!is.null(files)) {
          cat("Uploaded files:\n")
          print(files[, c("name", "size", "relativePath")])

          # Access directory structure
          dir_struct <- attr(files, "directoryStructure")
          cat("\nDirectory structure:\n")
          print(str(dir_struct))
        }
      })
    },
    options = list(launch.browser = TRUE)
  )
}

}
